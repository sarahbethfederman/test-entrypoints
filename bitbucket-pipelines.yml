image: node:latest

pipelines:
  default:

    - step:
        name: â¬‡ï¸ Install
        caches:
          - node
        script:
          - yarn 

    - parallel:

      - step:
          name: âœ… Lint
          caches:
            - node
          script:
            - yarn run lint

      - step:
          name: âš’ Build
          caches:
            - node
          artifacts:
            - "storybook-static/**"
          script:
            - yarn run build

      - step:
          name: ğŸ“ Test
          caches:
            - node
          script:
            - yarn run test

    - step:
        name: ğŸš€ Deploy
        caches:
          - node
        script:
          - node ./scripts/deploy.js
