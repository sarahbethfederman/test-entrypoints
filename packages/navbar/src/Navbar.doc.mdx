import { PropTable } from '@lendi-ui/doc-utils';
import styled from 'styled-components';
import { bg } from '@lendi-ui/color';

## Usage
```
import Navbar, { fetchApplication, fetchBroker } from '@lendi-ui/navbar';
```

```js
const Mainpage = styled.div`
  ${bg('warn.500')};
`;

render(
  <Mainpage>
    <Navbar id="navId"
    aria-label="labelText"/>
  </Mainpage>
);
```

## Notes

The Navbar component can also support query parameters currently. But it will be deprecated soon.

There are two methods that can be used to fetch the required data for the nav component. They are `fetchApplication` and `fetchBroker` which have similar arguments outlined below.

`fetchApplication (baseURL: string, token: string, sfid: string):` has three arguments, the base URL, the user token and the application sales force id.

`fetchBroker (baseURL: string, token: string)` has two arguments, the base URL and the user token.

`fetchApplication` returns an application object which also has the isAuthenticated property on it which can be passed straight to the Navbar component while `fetchBroker` returns the broker object to be passed straight to the Navbar.

Example usage:

```
const application = await fetchApplication(baseURL, token, sfid);
const broker = await fetchBroker(baseURL, token);

...
  <Navbar
    application={application}
    isAuthenticated={application.isAuth}
    broker={broker}
    
  />
...
```
<br />

## Properties
<PropTable>
  <PropTable.Entry name="application" type="object" description="Application details"/>
  <PropTable.Entry name="broker" type="object" description="Assigned broker data"/>
  <PropTable.Entry name="isAuthenticated" type="boolean" description="Flag for whether or not a user has been authenticated."/>
  <PropTable.Entry name="onChat" type="() => void" required description="Callback function on chat button on the Right Sidebar"/>
  <PropTable.Entry name="onLogout" type="() => void" required description="Callback function on Log Out link in Left Sidebar"/>
  <PropTable.Entry name="params" type="string" description="Accept query parameters from users. This one will be deprecated soon."/>
  <PropTable.Entry name="variant" type={'"transparent" | "white"'} defaultValue="transparent" description=""/>
</PropTable>
<br/>

## Application Object Properties with type 'Application'
<PropTable>
  <PropTable.Entry name="applicants" type="array of objects" description="The applicants associated with this application."/>
  <PropTable.Entry name="continueURL" type="URL string" description="The url for where the application should continue from."/>
  <PropTable.Entry name="isAuth" type="boolean" description="Flag for whether or not the application has been authenticated."/>
  <PropTable.Entry name="number" type="number" description="The active application number."/>
  <PropTable.Entry name="sfid" type="string" description="The sales force ID for the active application."/>
  <PropTable.Entry name="stage" type={`"started_application" | "finished_funnel2" | "finished_funnel3" | "loan_selected" | "finalised_application"`} description="Label for which stage the current application is up to."
  />
  <PropTable.Entry name="type" type={`"Refinance" | "New Purchase"`} description="Describes the type of application."/>
</PropTable>
<br/>

## Applicant Object Properties with type 'Applicant'
<PropTable>
  <PropTable.Entry name="firstName" type="string" description="The first name of the applicant."/>
  <PropTable.Entry name="sfid" type="string" description="The sales force ID of the applicant."/>
  <PropTable.Entry name="type" type="string" description="The applicant type, generally this would be 'primary'."/>
  <PropTable.Entry name="uuid" type="string" description="The lendi UUID of the applicant."/>
</PropTable>
<br/>

## Broker Object Properties with type 'Broker'
<PropTable>
  <PropTable.Entry name="fullName" type="string" description="The full name of the broker."/>
  <PropTable.Entry name="phone" type="string" description="The phone number of the broker."/>
  <PropTable.Entry name="photo" type="URL string" description="The url of the photo for the broker."/>
  <PropTable.Entry name="title" type="string" description="The job title of the broker."/>
</PropTable>

```
